{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/TRVP-002_Degtyarev/frontend/src/components/Main.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { fetchAllTariffs, addTariff, addService } from \"../requests\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Main() {\n  _s();\n  const [tariffs, setTariffs] = useState([]);\n  const [newTariff, setNewTariff] = useState({\n    tariff_code: \"\",\n    tariff_name: \"\"\n  });\n  const [newService, setNewService] = useState({\n    tariff_id: \"\",\n    service_name: \"\"\n  });\n  useEffect(() => {\n    fetchAllTariffs(setTariffs);\n  }, []);\n  const handleTariffChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewTariff(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleServiceChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewService(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleTariffSubmit = async e => {\n    e.preventDefault();\n    await addTariff(newTariff);\n    fetchAllTariffs(setTariffs);\n  };\n  const handleServiceSubmit = async e => {\n    e.preventDefault();\n    await addService(newService);\n    fetchAllTariffs(setTariffs);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430\\u043C\\u0438 \\u0438 \\u0443\\u0441\\u043B\\u0443\\u0433\\u0430\\u043C\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleTariffSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"tariff_code\",\n          value: newTariff.tariff_code,\n          onChange: handleTariffChange,\n          placeholder: \"\\u041A\\u043E\\u0434 \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"tariff_name\",\n          value: newTariff.tariff_name,\n          onChange: handleTariffChange,\n          placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0430\\u0440\\u0438\\u0444\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleServiceSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0443\\u0441\\u043B\\u0443\\u0433\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"tariff_id\",\n          value: newService.tariff_id,\n          onChange: handleServiceChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            disabled: true,\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u0430\\u0440\\u0438\\u0444\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), tariffs.map(tariff => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: tariff.tariff_id,\n            children: [tariff.tariff_name, \" (\", tariff.tariff_code, \")\"]\n          }, tariff.tariff_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"service_name\",\n          value: newService.service_name,\n          onChange: handleServiceChange,\n          placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0443\\u0441\\u043B\\u0443\\u0433\\u0438\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0443\\u0441\\u043B\\u0443\\u0433\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tariffs-list\",\n      children: tariffs.map(tariff => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [tariff.tariff_name, \" (\", tariff.tariff_code, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: tariff.services.map(service => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: service.service_name\n          }, service.service_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, tariff.tariff_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"H5bqgGTkMkqqJxxJxNXNxNv+Zzg=\");\n_c = Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["useEffect","useState","fetchAllTariffs","addTariff","addService","jsxDEV","_jsxDEV","Main","_s","tariffs","setTariffs","newTariff","setNewTariff","tariff_code","tariff_name","newService","setNewService","tariff_id","service_name","handleTariffChange","e","name","value","target","prev","handleServiceChange","handleTariffSubmit","preventDefault","handleServiceSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","placeholder","required","type","disabled","map","tariff","services","service","service_id","_c","$RefreshReg$"],"sources":["/Users/admin/Desktop/TRVP-002_Degtyarev/frontend/src/components/Main.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { fetchAllTariffs, addTariff, addService } from \"../requests\";\r\n\r\nexport default function Main() {\r\n  const [tariffs, setTariffs] = useState([]);\r\n  const [newTariff, setNewTariff] = useState({ tariff_code: \"\", tariff_name: \"\" });\r\n  const [newService, setNewService] = useState({ tariff_id: \"\", service_name: \"\" });\r\n\r\n  useEffect(() => {\r\n    fetchAllTariffs(setTariffs);\r\n  }, []);\r\n\r\n  const handleTariffChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNewTariff((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleServiceChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNewService((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleTariffSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await addTariff(newTariff);\r\n    fetchAllTariffs(setTariffs);\r\n  };\r\n\r\n  const handleServiceSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await addService(newService);\r\n    fetchAllTariffs(setTariffs);\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-page\">\r\n      <h1>Управление тарифами и услугами</h1>\r\n\r\n      <div className=\"form-section\">\r\n        <form onSubmit={handleTariffSubmit}>\r\n          <h2>Добавление тарифа</h2>\r\n          <input\r\n            name=\"tariff_code\"\r\n            value={newTariff.tariff_code}\r\n            onChange={handleTariffChange}\r\n            placeholder=\"Код тарифа\"\r\n            required\r\n          />\r\n          <input\r\n            name=\"tariff_name\"\r\n            value={newTariff.tariff_name}\r\n            onChange={handleTariffChange}\r\n            placeholder=\"Название тарифа\"\r\n            required\r\n          />\r\n          <button type=\"submit\">Добавить тариф</button>\r\n        </form>\r\n\r\n        <form onSubmit={handleServiceSubmit}>\r\n          <h2>Добавление услуги</h2>\r\n          <select\r\n            name=\"tariff_id\"\r\n            value={newService.tariff_id}\r\n            onChange={handleServiceChange}\r\n            required\r\n          >\r\n            <option value=\"\" disabled>Выберите тариф</option>\r\n            {tariffs.map((tariff) => (\r\n              <option key={tariff.tariff_id} value={tariff.tariff_id}>\r\n                {tariff.tariff_name} ({tariff.tariff_code})\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <input\r\n            name=\"service_name\"\r\n            value={newService.service_name}\r\n            onChange={handleServiceChange}\r\n            placeholder=\"Название услуги\"\r\n            required\r\n          />\r\n          <button type=\"submit\">Добавить услугу</button>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"tariffs-list\">\r\n        {tariffs.map((tariff) => (\r\n          <div key={tariff.tariff_id}>\r\n            <h3>{tariff.tariff_name} ({tariff.tariff_code})</h3>\r\n            <ul>\r\n              {tariff.services.map((service) => (\r\n                <li key={service.service_id}>{service.service_name}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}